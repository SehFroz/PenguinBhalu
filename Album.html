<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PratyNoor Album ‚ù§Ô∏è</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <style>
    body { margin:0; padding:0; font-family: Arial, sans-serif; transition: background 1s ease; }

    .background { position: fixed; top:0; left:0; width:100%; height:100%; background-size:cover; background-position:center; z-index:-2; transition: background-image 1s ease; background-image: url('Assets/DayBG.jpg'); }
    .gradient-overlay { position: fixed; top:0; left:0; width:100%; height:100%; z-index:-1; opacity:0.6; background-size:400% 400%; }

    .album-title { text-align:center; font-family: 'Dancing Script', cursive; font-size:40px; color:white; padding:20px; position:relative; z-index:5; }

    /* left strip */
    .left-strip { position: fixed; left:0; top:100px; display:flex; flex-direction:column; gap:15px; padding:10px; z-index:10; }
    .left-strip button { font-size:24px; border:none; background: rgba(255,255,255,0.5); cursor:pointer; border-radius:10px; padding:5px 8px; transition: transform 0.2s, background 0.2s; }
    .left-strip button:hover { transform: scale(1.2); background: rgba(255,255,255,0.8); }

    .theme-toggle { position:absolute; top:20px; right:20px; background: rgba(255,255,255,0.7); border:none; padding:10px 15px; border-radius:20px; cursor:pointer; font-size:18px; z-index:10; }

    /* grid of images */
    .album-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:15px; padding:20px; position:relative; z-index:5; }
    .album-grid img { width:100%; height:250px; object-fit:cover; border-radius:15px; cursor:pointer; transition: transform 0.3s; }
    .album-grid img:hover { transform: scale(1.05); }

    /* modal for expanded image */
    .modal { display:none; position:fixed; z-index:200; left:0; top:0; width:100%; height:100%; background-color:rgba(0,0,0,0.9); }
    .modal-content { margin:auto; display:block; max-width:80%; max-height:80%; margin-top:60px; border-radius:10px; }
    .close { position:absolute; top:20px; right:35px; color:white; font-size:40px; font-weight:bold; cursor:pointer; }

    /* floating hearts */
    .heart { position:absolute; color: rgba(255,0,100,0.6); font-size:20px; animation: floatUp 8s linear infinite; pointer-events:none; }
    @keyframes floatUp { 0% { transform:translateY(100vh) scale(0.5); opacity:0; } 30% { opacity:1; } 100% { transform:translateY(-10vh) scale(1.2); opacity:0; } }

    /* flying hearts */
    .flying-heart {
      position:absolute; font-size:20px; color: rgba(255,0,100,0.9);
      animation: flyHeart 1.2s ease-out forwards; pointer-events:none;
    }
    @keyframes flyHeart {
      0% { transform: translateY(0) scale(0.6); opacity:1; }
      100% { transform: translateY(-220px) scale(1.2); opacity:0; }
    }

    /* infinite heart button */
    #infinite-heart-btn {
      position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
      padding: 15px 25px; font-size: 18px; background: rgba(255,0,100,0.9);
      color: white; border:none; border-radius:15px; cursor:pointer; z-index:120; display:none;
    }
  </style>
</head>
<body class="day-theme">

<div class="background"></div>
<div class="gradient-overlay"></div>

<div class="album-title">PratyNoor Album</div>

<div class="left-strip">
  <button id="toggle-grid">üëÅÔ∏è</button>
  <button id="send-heart">‚ù§Ô∏è</button>
  <button id="surprise-popup">üíå</button>
  <button id="about">‚ÑπÔ∏è</button>
</div>

<button class="theme-toggle" id="theme-toggle-btn">üåô</button>

<div class="album-grid" id="album-grid">
  <!-- Images PN1 to PN29 -->
  <script>
    for(let i=1;i<=29;i++){
      document.write(`<img src="Assets/PN${i}.jpg" alt="PN${i}" class="album-img">`);
    }
  </script>
</div>

<!-- Modal -->
<div id="myModal" class="modal">
  <span class="close">&times;</span>
  <img class="modal-content" id="img01">
</div>

<!-- Infinite Heart Button -->
<button id="infinite-heart-btn">Press to send INFINITE Hearts to your Praty</button>

<!-- Audio -->
<audio id="theme-audio" loop></audio>

<!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<script>
const body = document.body;
const audioPlayer = document.getElementById("theme-audio");
const themeToggleBtn = document.getElementById("theme-toggle-btn");
const sendHeartBtn = document.getElementById("send-heart");
const infiniteBtn = document.getElementById("infinite-heart-btn");

const daySong = "Assets/One Love (Official Audio).mp3";
const nightSong = "Assets/One Kiss (Official Video).mp3";

// init EmailJS
emailjs.init("JGhME2cskwslibmXv");

function updateThemeToggleIcon(){
  if(body.classList.contains("day-theme")) themeToggleBtn.textContent = "üåô";
  else themeToggleBtn.textContent = "‚òÄÔ∏è";
}

// theme toggle
function toggleTheme(){
  if(body.classList.contains("day-theme")){
    body.classList.replace("day-theme","night-theme");
    document.querySelector(".background").style.backgroundImage="url('Assets/NightBG.jpg')";
    audioPlayer.src = nightSong;
  } else {
    body.classList.replace("night-theme","day-theme");
    document.querySelector(".background").style.backgroundImage="url('Assets/DayBG.jpg')";
    audioPlayer.src = daySong;
  }
  audioPlayer.play().catch(()=>{});
  updateThemeToggleIcon();
  localStorage.setItem("theme", body.classList.contains("day-theme")?"day":"night");
  localStorage.setItem("song", audioPlayer.src);
}
themeToggleBtn.addEventListener("click", toggleTheme);

// hearts background
function createBackgroundHeart(){
  const h=document.createElement("div");
  h.className="heart";
  h.textContent="‚ù§Ô∏è";
  h.style.left=Math.random()*window.innerWidth+"px";
  h.style.fontSize=(Math.random()*20+10)+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),8000);
}
setInterval(createBackgroundHeart,1500);

// send heart burst
sendHeartBtn.addEventListener("click",()=>{
  for(let i=0;i<18;i++){
    const h=document.createElement("div");
    h.className="flying-heart";
    h.textContent="‚ù§Ô∏è";
    h.style.left=window.innerWidth/2+(Math.random()*200-100)+"px";
    h.style.top=window.innerHeight/2+(Math.random()*120-60)+"px";
    h.style.fontSize=(14+Math.random()*24)+"px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),1400);
  }
  infiniteBtn.style.display="block";
});

// infinite hearts
infiniteBtn.addEventListener("click",()=>{
  infiniteBtn.disabled=true;
  emailjs.send("service_a7lopsi","template_hh35k3a",{
    to_email:"pratyyynooor@gmail.com",
    message:"Noor clicked INFINITE heart at "+new Date().toLocaleString()
  });
  for(let i=0;i<40;i++){
    const h=document.createElement("div");
    h.className="flying-heart";
    h.textContent="‚ù§Ô∏è";
    h.style.left=(window.innerWidth/2+(Math.random()*300-150))+"px";
    h.style.top=(window.innerHeight/2+(Math.random()*160-80))+"px";
    h.style.fontSize=(12+Math.random()*30)+"px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),1600);
  }
  setTimeout(()=>{ infiniteBtn.style.display="none"; infiniteBtn.disabled=false; },800);
});

// grid toggle
document.getElementById("toggle-grid").addEventListener("click",()=>{
  const grid=document.getElementById("album-grid");
  grid.style.display=grid.style.display!=="none"?"none":"grid";
});
document.getElementById("surprise-popup").addEventListener("click",()=>{ window.location.href="comingsoon.html"; });
document.getElementById("about").addEventListener("click",()=>{ window.location.href="comingsoon.html"; });

// image modal
const modal=document.getElementById("myModal");
const modalImg=document.getElementById("img01");
document.querySelectorAll(".album-img").forEach(img=>{
  img.addEventListener("click",()=>{
    modal.style.display="block";
    modalImg.src=img.src;
  });
});
document.querySelector(".close").onclick=function(){ modal.style.display="none"; };

// load theme
window.addEventListener("load",()=>{
  const savedTheme=localStorage.getItem("theme");
  const savedSong=localStorage.getItem("song");
  if(savedTheme==="night"){
    body.classList.replace("day-theme","night-theme");
    document.querySelector(".background").style.backgroundImage="url('Assets/NightBG.jpg')";
  }
  audioPlayer.src=savedSong||daySong;
  audioPlayer.play().catch(()=>{});
  updateThemeToggleIcon();
});
</script>
</body>
</html>
